<!DOCTYPE html>
<html>
<head>
    <title>Account Structure</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <style>
        body { font-family: Arial, sans-serif; }
        .diagram { margin: 20px; }
    </style>
</head>
<body>
    <h1>Account Structure</h1>
    <div class="diagram">
        <pre class="mermaid">
graph TD
    %% Style Definitions
classDef token fill:#4CAF50,stroke:#333,stroke-width:2px
classDef pda fill:#FFC107,stroke:#333,stroke-width:2px
classDef data fill:#E3F2FD,stroke:#333,stroke-width:1px

    %% User Accounts
    subgraph "User Accounts"
        U1[User Wallet]:::token
        U2[Staking Account]:::token
        U3[Token Account]:::token
    end

    %% Program PDAs
    subgraph "Program PDAs"
        P1[Staking PDA]:::pda
        P1 -->|"Owner:"| SP[Staking Program]
        P1 -->|"Data:"| P1_data[Stake Data]:::data

        P2[Rewards PDA]:::pda
        P2 -->|"Owner:"| SP
        P2 -->|"Data:"| P2_data[Reward Data]:::data
    end

    %% Account Relationships
    U1 -->|"Owns"| U2
    U2 -->|"Holds"| P1
    P1 -->|"Holds"| T1[Token Vault]:::token
    T1 -->|"Managed by"| S1[System Config]:::token

    %% Account Lifecycle
    subgraph "Lifecycle"
        L1[Created]:::process
        L2[Active]:::process
        L3[Locked]:::process
        L4[Closed]:::process
        L1 --> L2
        L2 --> L3
        L3 --> L4
    end

    %% Legend
    subgraph "Legend"
        L1[Token Account]:::token
        L2[PDA]:::pda
        L3[Data]:::data
        L4[Process]:::process
    end
        </pre>
    </div>
</body>
</html>
